import React from "react";
import { StyledForecastCard } from "./NextHoursForecastCard.style";
import { useAppSelector } from "../redux/hooks/useRedux";

const NextHoursForecastCard = () => {
    const weather = useAppSelector((state) => state.weather.value);

    return (
        <StyledForecastCard>
            <span>Current Day</span>{" "}
            <div className="forecast-cards-container">
                {weather.forecast?.forecastday[0].hour?.map(
                    (hourObj, index) => {
                        const chanceOfRain = hourObj.chance_of_rain;
                        const chanceOfSnow = hourObj.chance_of_snow;
                        return (
                            <div className="card" key={index}>
                                <span>{String(hourObj.time).slice(10)}</span>
                                <img src={hourObj.condition?.icon} alt="" />
                                <span className="chance">
                                    {chanceOfSnow > chanceOfRain ? (
                                        <>
                                            <svg
                                                version="1.1"
                                                viewBox="0 0 700 700"
                                                xmlns="http://www.w3.org/2000/svg"
                                            >
                                                <path d="m266.82 511.97c0-6.9336 5.4453-12.379 11.883-12.379 6.9336 0 12.379 5.4453 12.379 12.379 0 12.875 10.398 23.27 23.27 23.27 12.875 0 23.27-10.398 23.27-23.27v-134.68c-4.9531 0.99219-10.398 2.4766-15.348 4.457-8.9141 3.9609-17.328 9.4062-25.254 16.34-4.9531 4.9531-12.379 4.457-16.836 0-30.699-29.707-74.766-28.223-105.46 0-8.418 7.9219-20.797 1.4844-20.797-9.4062 0.49609-53.969 22.281-102.49 57.438-138.14 33.176-32.68 77.242-53.969 126.26-56.941v-12.875c0-6.4375 5.4453-11.883 12.379-11.883s12.379 5.4453 12.379 11.883v12.875c49.02 2.9727 93.582 24.262 126.26 56.941 35.648 35.648 57.438 84.668 57.438 138.64 0 6.9336-5.4453 12.379-11.883 12.379-3.4648 0-6.4375-1.4844-8.418-3.4648-31.195-28.223-75.262-29.707-105.96 0-4.457 4.457-11.883 4.457-16.836 0-7.9219-6.9336-16.34-12.379-25.254-16.34-4.9531-1.9805-9.9023-3.4648-15.348-4.457v134.68c0 26.242-21.785 48.027-48.027 48.027-26.242 0-47.531-21.785-47.531-48.027zm134.18-145.57c0-34.164-0.99219-61.891-6.9336-84.668-6.4375-24.758-19.309-44.562-44.066-62.883-24.758 18.32-37.137 38.125-44.066 62.883-5.9414 22.777-6.9336 50.504-6.9336 84.668 32.184-19.309 69.812-19.309 102 0zm70.309-98.531c-22.281-21.785-50.008-38.125-81.203-45.551 13.863 15.844 22.281 33.176 27.727 53.477 6.4375 24.758 7.4258 52.98 7.9219 88.133 29.707-16.34 64.367-15.844 94.074 0.49609-5.4453-37.629-23.27-70.805-48.523-96.551zm-161.41-45.551c-31.195 7.4258-58.922 23.766-81.203 45.551-25.254 25.746-43.078 58.922-48.523 96.551 29.707-16.34 64.367-16.836 94.074-0.49609 0.49609-35.156 1.4844-63.379 8.418-88.133 4.9531-20.301 13.367-37.629 27.234-53.477zm-116.36-108.93c-6.9336 0-12.379 5.4453-12.379 12.379 0 6.4375 5.4453 11.883 12.379 11.883 6.9336 0 12.379-5.4453 12.379-11.883 0-6.9336-5.4453-12.379-12.379-12.379zm312.93 0c-6.4375 0-11.883 5.4453-11.883 12.379 0 6.4375 5.4453 11.883 11.883 11.883 6.9336 0 12.379-5.4453 12.379-11.883 0-6.9336-5.4453-12.379-12.379-12.379zm-39.609 43.078c6.9336 0 12.379 5.4453 12.379 12.379 0 6.4375-5.4453 11.883-12.379 11.883-6.4375 0-11.883-5.4453-11.883-11.883 0-6.9336 5.4453-12.379 11.883-12.379zm-233.7 0c6.9336 0 12.379 5.4453 12.379 12.379 0 6.4375-5.4453 11.883-12.379 11.883s-12.379-5.4453-12.379-11.883c0-6.9336 5.4453-12.379 12.379-12.379zm211.92-87.145c-6.9336 0-12.379 5.4453-12.379 12.379 0 6.4375 5.4453 11.883 12.379 11.883 6.9336 0 12.379-5.4453 12.379-11.883 0-6.9336-5.4453-12.379-12.379-12.379zm-190.13 0c6.9336 0 12.379 5.4453 12.379 12.379 0 6.4375-5.4453 11.883-12.379 11.883-6.4375 0-12.379-5.4453-12.379-11.883 0-6.9336 5.9414-12.379 12.379-12.379zm171.81-69.32c-6.9336 0-12.379 5.4453-12.379 12.379 0 6.4375 5.4453 12.379 12.379 12.379s12.379-5.9414 12.379-12.379c0-6.9336-5.4453-12.379-12.379-12.379zm107.45 51c-6.9336 0-12.379 5.4453-12.379 12.379 0 6.4375 5.4453 11.883 12.379 11.883 6.4375 0 11.883-5.4453 11.883-11.883 0-6.9336-5.4453-12.379-11.883-12.379zm-131.71 63.379c-6.9336 0-12.379 5.9414-12.379 12.379 0 6.9336 5.4453 12.379 12.379 12.379 6.4375 0 11.883-5.4453 11.883-12.379 0-6.4375-5.4453-12.379-11.883-12.379zm131.71 78.727c-6.9336 0-12.379 5.4453-12.379 12.379 0 6.9336 5.4453 12.379 12.379 12.379 6.4375 0 11.883-5.4453 11.883-12.379 0-6.9336-5.4453-12.379-11.883-12.379zm-184.19-142.11c6.9336 0 12.379 5.4453 12.379 12.379 0 6.4375-5.4453 11.883-12.379 11.883s-12.379-5.4453-12.379-11.883c0-6.9336 5.4453-12.379 12.379-12.379zm-76.746-51c6.9336 0 12.379 5.4453 12.379 12.379 0 6.4375-5.4453 12.379-12.379 12.379-6.9336 0-12.379-5.9414-12.379-12.379 0-6.9336 5.4453-12.379 12.379-12.379zm-106.95 51c6.4375 0 12.379 5.4453 12.379 12.379 0 6.4375-5.9414 11.883-12.379 11.883-6.9336 0-12.379-5.4453-12.379-11.883 0-6.9336 5.4453-12.379 12.379-12.379zm131.71 63.379c6.4375 0 11.883 5.9414 11.883 12.379 0 6.9336-5.4453 12.379-11.883 12.379-6.9336 0-12.379-5.4453-12.379-12.379 0-6.4375 5.4453-12.379 12.379-12.379zm-131.71 78.727c6.4375 0 12.379 5.4453 12.379 12.379 0 6.9336-5.9414 12.379-12.379 12.379-6.9336 0-12.379-5.4453-12.379-12.379 0-6.9336 5.4453-12.379 12.379-12.379z" />
                                            </svg>
                                            <span>{chanceOfSnow}%</span>
                                        </>
                                    ) : (
                                        <>
                                            <svg
                                                version="1.1"
                                                viewBox="0 0 700 700"
                                                xmlns="http://www.w3.org/2000/svg"
                                            >
                                                <path d="m362.4 186.84c50.141 3.168 95.004 24.809 128.79 58.586 35.891 35.891 58.586 86.031 58.586 140.92 0 6.8633-5.8047 12.668-12.668 12.668h-174.7v111.89c0 26.918-21.641 49.086-48.559 49.086s-49.086-22.168-49.086-49.086c0-6.8633 5.8047-12.141 12.668-12.141s12.668 5.2773 12.668 12.141c0 13.195 10.555 24.277 23.75 24.277s23.75-11.082 23.75-24.277v-111.89h-174.7c-6.8633 0-12.668-5.8047-12.668-12.668 0-54.891 22.695-105.03 58.586-140.92 33.781-33.781 78.645-55.418 128.79-58.586v-12.668c0-6.8633 5.2773-12.668 12.141-12.668 7.3906 0 12.668 5.8047 12.668 12.668zm187.37-69.141c0 6.8633-5.8047 12.668-12.668 12.668s-12.141-5.8047-12.141-12.668v-24.809c0-6.8633 5.2773-12.668 12.141-12.668s12.668 5.8047 12.668 12.668zm0 81.281c0 6.8633-5.8047 12.668-12.668 12.668s-12.141-5.8047-12.141-12.668v-24.809c0-6.8633 5.2773-12.668 12.141-12.668s12.668 5.8047 12.668 12.668zm-299.79-124.04c0 6.8633-5.2773 12.668-12.141 12.668-6.8633 0-12.668-5.8047-12.668-12.668v-24.809c0-6.8633 5.8047-12.668 12.668-12.668 6.8633 0 12.141 5.8047 12.141 12.668zm0 81.281c0 6.8633-5.2773 12.141-12.141 12.141-6.8633 0-12.668-5.2773-12.668-12.141v-24.809c0-7.3906 5.8047-12.668 12.668-12.668 6.8633 0 12.141 5.2773 12.141 12.668zm224.84 0c0 6.8633-5.8047 12.141-12.668 12.141s-12.141-5.2773-12.141-12.141v-74.949c0-6.8633 5.2773-12.668 12.141-12.668s12.668 5.8047 12.668 12.668zm-149.89-37.473c0 6.8633-5.2773 12.141-12.668 12.141-6.8633 0-12.141-5.2773-12.141-12.141v-74.949c0-6.8633 5.2773-12.668 12.141-12.668 7.3906 0 12.668 5.8047 12.668 12.668zm74.949-81.281c0 6.8633-5.8047 12.668-12.668 12.668-6.8633 0-12.141-5.8047-12.141-12.668v-24.809c0-6.8633 5.2773-12.668 12.141-12.668 6.8633 0 12.668 5.8047 12.668 12.668zm0 81.281c0 6.8633-5.8047 12.141-12.668 12.141-6.8633 0-12.141-5.2773-12.141-12.141v-25.336c0-6.8633 5.2773-12.141 12.141-12.141 6.8633 0 12.668 5.2773 12.668 12.141zm-224.84 80.227c0 6.8633-5.2773 12.668-12.141 12.668s-12.668-5.8047-12.668-12.668v-74.949c0-6.8633 5.8047-12.141 12.668-12.141s12.141 5.2773 12.141 12.141zm298.21 63.863c-31.668-31.668-75.477-51.195-123.51-51.195s-91.309 19.527-122.98 51.195c-29.027 29.027-48.031 68.086-51.195 110.84h348.88c-3.168-42.754-22.168-81.809-51.195-110.84z" />
                                            </svg>

                                            <span>{chanceOfRain}%</span>
                                        </>
                                    )}
                                </span>
                                <span className="temp">
                                    {Math.round(hourObj.temp_c)}&#176;
                                </span>
                            </div>
                        );
                    }
                )}
            </div>
        </StyledForecastCard>
    );
};

export default NextHoursForecastCard;
